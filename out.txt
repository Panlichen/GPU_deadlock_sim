

================
Start
================


31349
31350
[<module>] start 2 processes, each 100 rounds


[init_7_main_loop] Process 31349 model: StreamWithSync, gropuing_policy: Megatron gpu_num: 8, group_num: 8, coll_num: 80, disorder_prob: 0.1, sync_prob: 0.1, resource_limit: -1
[init_7_main_loop] tp_group_size: 2, dp_group_size: 2, pp_group_size: 2, coll_cnt_per_tp_group: 10, coll_cnt_per_dp_group: 10
[init_7_main_loop] Process 31349 before main loop
[main_loop] currently #Deadlock round: 0 out of 1 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 2 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 3 rounds, ratio: 0.0


[init_7_main_loop] Process 31350 model: StreamWithSync, gropuing_policy: Megatron gpu_num: 8, group_num: 8, coll_num: 80, disorder_prob: 0.1, sync_prob: 0.1, resource_limit: -1
[init_7_main_loop] tp_group_size: 2, dp_group_size: 2, pp_group_size: 2, coll_cnt_per_tp_group: 10, coll_cnt_per_dp_group: 10
[init_7_main_loop] Process 31350 before main loop
[main_loop] currently #Deadlock round: 0 out of 4 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 1 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 5 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 2 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 6 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 3 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 7 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 4 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 8 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 5 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 6 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 9 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 7 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 10 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 8 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 9 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 11 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 12 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 13 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 14 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 15 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 16 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 17 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 18 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 10 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 19 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 11 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 20 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 12 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 13 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 21 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 14 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 22 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 15 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 23 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 16 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 17 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 24 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 18 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 25 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 26 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 27 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 28 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 29 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 30 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 19 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 31 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 20 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 21 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 22 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 32 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 33 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 23 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 34 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 24 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 25 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 0 out of 26 rounds, ratio: 0.0


[global_check_deadlock_by_intersection] ring deadlock when GPU 1 hang. this s->other u: {34}, this u -> other s: {5}
[main_loop] currently #Deadlock round: 1 out of 35 rounds, ratio: 0.02857142857142857


[main_loop] currently #Deadlock round: 0 out of 27 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 1 out of 36 rounds, ratio: 0.027777777777777776


[main_loop] currently #Deadlock round: 1 out of 37 rounds, ratio: 0.02702702702702703


[main_loop] currently #Deadlock round: 0 out of 28 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 1 out of 38 rounds, ratio: 0.02631578947368421


[main_loop] currently #Deadlock round: 0 out of 29 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 1 out of 39 rounds, ratio: 0.02564102564102564


[main_loop] currently #Deadlock round: 1 out of 40 rounds, ratio: 0.025


[main_loop] currently #Deadlock round: 0 out of 30 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 1 out of 41 rounds, ratio: 0.024390243902439025


[main_loop] currently #Deadlock round: 1 out of 42 rounds, ratio: 0.023809523809523808


[main_loop] currently #Deadlock round: 0 out of 31 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 1 out of 43 rounds, ratio: 0.023255813953488372


[main_loop] currently #Deadlock round: 0 out of 32 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 1 out of 44 rounds, ratio: 0.022727272727272728


[main_loop] currently #Deadlock round: 0 out of 33 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 1 out of 45 rounds, ratio: 0.022222222222222223


[main_loop] currently #Deadlock round: 0 out of 34 rounds, ratio: 0.0


[main_loop] currently #Deadlock round: 1 out of 46 rounds, ratio: 0.021739130434782608


[global_check_deadlock_by_intersection] ring deadlock when GPU 1 hang. this s->other u: {34}, this u -> other s: {5}
[main_loop] currently #Deadlock round: 1 out of 35 rounds, ratio: 0.02857142857142857


[main_loop] currently #Deadlock round: 1 out of 47 rounds, ratio: 0.02127659574468085


[main_loop] currently #Deadlock round: 1 out of 36 rounds, ratio: 0.027777777777777776


[main_loop] currently #Deadlock round: 1 out of 37 rounds, ratio: 0.02702702702702703


[main_loop] currently #Deadlock round: 1 out of 48 rounds, ratio: 0.020833333333333332


[main_loop] currently #Deadlock round: 1 out of 38 rounds, ratio: 0.02631578947368421


[main_loop] currently #Deadlock round: 1 out of 49 rounds, ratio: 0.02040816326530612


[main_loop] currently #Deadlock round: 1 out of 39 rounds, ratio: 0.02564102564102564


[main_loop] currently #Deadlock round: 1 out of 50 rounds, ratio: 0.02


[main_loop] currently #Deadlock round: 1 out of 40 rounds, ratio: 0.025


[main_loop] currently #Deadlock round: 1 out of 41 rounds, ratio: 0.024390243902439025


[main_loop] currently #Deadlock round: 1 out of 51 rounds, ratio: 0.0196078431372549


[main_loop] currently #Deadlock round: 1 out of 42 rounds, ratio: 0.023809523809523808


[main_loop] currently #Deadlock round: 1 out of 52 rounds, ratio: 0.019230769230769232


[main_loop] currently #Deadlock round: 1 out of 43 rounds, ratio: 0.023255813953488372


[main_loop] currently #Deadlock round: 1 out of 53 rounds, ratio: 0.018867924528301886


[main_loop] currently #Deadlock round: 1 out of 44 rounds, ratio: 0.022727272727272728


[main_loop] currently #Deadlock round: 1 out of 54 rounds, ratio: 0.018518518518518517


[main_loop] currently #Deadlock round: 1 out of 45 rounds, ratio: 0.022222222222222223


[main_loop] currently #Deadlock round: 1 out of 55 rounds, ratio: 0.01818181818181818


[main_loop] currently #Deadlock round: 1 out of 46 rounds, ratio: 0.021739130434782608


[main_loop] currently #Deadlock round: 1 out of 56 rounds, ratio: 0.017857142857142856


[main_loop] currently #Deadlock round: 1 out of 47 rounds, ratio: 0.02127659574468085


[main_loop] currently #Deadlock round: 1 out of 57 rounds, ratio: 0.017543859649122806


[main_loop] currently #Deadlock round: 1 out of 58 rounds, ratio: 0.017241379310344827


[main_loop] currently #Deadlock round: 1 out of 59 rounds, ratio: 0.01694915254237288


[main_loop] currently #Deadlock round: 1 out of 48 rounds, ratio: 0.020833333333333332


[main_loop] currently #Deadlock round: 1 out of 49 rounds, ratio: 0.02040816326530612


[global_check_deadlock_by_intersection] ring deadlock when GPU 6 hang. this s->other u: {56}, this u -> other s: {55}
[main_loop] currently #Deadlock round: 2 out of 60 rounds, ratio: 0.03333333333333333


[main_loop] currently #Deadlock round: 1 out of 50 rounds, ratio: 0.02


[main_loop] currently #Deadlock round: 2 out of 61 rounds, ratio: 0.03278688524590164


[main_loop] currently #Deadlock round: 1 out of 51 rounds, ratio: 0.0196078431372549


[main_loop] currently #Deadlock round: 2 out of 62 rounds, ratio: 0.03225806451612903


[main_loop] currently #Deadlock round: 1 out of 52 rounds, ratio: 0.019230769230769232


[main_loop] currently #Deadlock round: 2 out of 63 rounds, ratio: 0.031746031746031744


[main_loop] currently #Deadlock round: 1 out of 53 rounds, ratio: 0.018867924528301886


[main_loop] currently #Deadlock round: 2 out of 64 rounds, ratio: 0.03125


[main_loop] currently #Deadlock round: 1 out of 54 rounds, ratio: 0.018518518518518517


[global_check_deadlock_by_intersection] ring deadlock when GPU 1 hang. this s->other u: {8}, this u -> other s: {7}
[main_loop] currently #Deadlock round: 3 out of 65 rounds, ratio: 0.046153846153846156


[main_loop] currently #Deadlock round: 1 out of 55 rounds, ratio: 0.01818181818181818


[main_loop] currently #Deadlock round: 3 out of 66 rounds, ratio: 0.045454545454545456


[main_loop] currently #Deadlock round: 1 out of 56 rounds, ratio: 0.017857142857142856


[main_loop] currently #Deadlock round: 3 out of 67 rounds, ratio: 0.04477611940298507


[main_loop] currently #Deadlock round: 1 out of 57 rounds, ratio: 0.017543859649122806


[main_loop] currently #Deadlock round: 3 out of 68 rounds, ratio: 0.04411764705882353


[main_loop] currently #Deadlock round: 1 out of 58 rounds, ratio: 0.017241379310344827


[main_loop] currently #Deadlock round: 1 out of 59 rounds, ratio: 0.01694915254237288


[global_check_deadlock_by_intersection] ring deadlock when GPU 6 hang. this s->other u: {56}, this u -> other s: {55}
[main_loop] currently #Deadlock round: 2 out of 60 rounds, ratio: 0.03333333333333333


[main_loop] currently #Deadlock round: 2 out of 61 rounds, ratio: 0.03278688524590164


[main_loop] currently #Deadlock round: 3 out of 69 rounds, ratio: 0.043478260869565216


[main_loop] currently #Deadlock round: 3 out of 70 rounds, ratio: 0.04285714285714286


[main_loop] currently #Deadlock round: 3 out of 71 rounds, ratio: 0.04225352112676056


[main_loop] currently #Deadlock round: 3 out of 72 rounds, ratio: 0.041666666666666664


[main_loop] currently #Deadlock round: 3 out of 73 rounds, ratio: 0.0410958904109589


[main_loop] currently #Deadlock round: 2 out of 62 rounds, ratio: 0.03225806451612903


[main_loop] currently #Deadlock round: 3 out of 74 rounds, ratio: 0.04054054054054054


[main_loop] currently #Deadlock round: 2 out of 63 rounds, ratio: 0.031746031746031744


[main_loop] currently #Deadlock round: 3 out of 75 rounds, ratio: 0.04


[main_loop] currently #Deadlock round: 2 out of 64 rounds, ratio: 0.03125


[main_loop] currently #Deadlock round: 3 out of 76 rounds, ratio: 0.039473684210526314


[global_check_deadlock_by_intersection] ring deadlock when GPU 3 hang. this s->other u: {14}, this u -> other s: {34, 15}
[main_loop] currently #Deadlock round: 4 out of 77 rounds, ratio: 0.05194805194805195


[global_check_deadlock_by_intersection] ring deadlock when GPU 1 hang. this s->other u: {8}, this u -> other s: {7}
[main_loop] currently #Deadlock round: 3 out of 65 rounds, ratio: 0.046153846153846156


[main_loop] currently #Deadlock round: 4 out of 78 rounds, ratio: 0.05128205128205128


[main_loop] currently #Deadlock round: 3 out of 66 rounds, ratio: 0.045454545454545456


[main_loop] currently #Deadlock round: 4 out of 79 rounds, ratio: 0.05063291139240506


[main_loop] currently #Deadlock round: 4 out of 80 rounds, ratio: 0.05


[main_loop] currently #Deadlock round: 3 out of 67 rounds, ratio: 0.04477611940298507


[main_loop] currently #Deadlock round: 3 out of 68 rounds, ratio: 0.04411764705882353


[main_loop] currently #Deadlock round: 3 out of 69 rounds, ratio: 0.043478260869565216


[main_loop] currently #Deadlock round: 3 out of 70 rounds, ratio: 0.04285714285714286


[main_loop] currently #Deadlock round: 3 out of 71 rounds, ratio: 0.04225352112676056


[main_loop] currently #Deadlock round: 3 out of 72 rounds, ratio: 0.041666666666666664


[main_loop] currently #Deadlock round: 4 out of 81 rounds, ratio: 0.04938271604938271


[main_loop] currently #Deadlock round: 4 out of 82 rounds, ratio: 0.04878048780487805


[main_loop] currently #Deadlock round: 3 out of 73 rounds, ratio: 0.0410958904109589


[main_loop] currently #Deadlock round: 4 out of 83 rounds, ratio: 0.04819277108433735


[main_loop] currently #Deadlock round: 4 out of 84 rounds, ratio: 0.047619047619047616


[main_loop] currently #Deadlock round: 3 out of 74 rounds, ratio: 0.04054054054054054


[main_loop] currently #Deadlock round: 4 out of 85 rounds, ratio: 0.047058823529411764


[main_loop] currently #Deadlock round: 4 out of 86 rounds, ratio: 0.046511627906976744


[main_loop] currently #Deadlock round: 4 out of 87 rounds, ratio: 0.04597701149425287


[main_loop] currently #Deadlock round: 3 out of 75 rounds, ratio: 0.04


[main_loop] currently #Deadlock round: 4 out of 88 rounds, ratio: 0.045454545454545456


[main_loop] currently #Deadlock round: 4 out of 89 rounds, ratio: 0.0449438202247191


[main_loop] currently #Deadlock round: 3 out of 76 rounds, ratio: 0.039473684210526314


[main_loop] currently #Deadlock round: 4 out of 90 rounds, ratio: 0.044444444444444446


[global_check_deadlock_by_intersection] ring deadlock when GPU 3 hang. this s->other u: {14}, this u -> other s: {34, 15}
[main_loop] currently #Deadlock round: 4 out of 77 rounds, ratio: 0.05194805194805195


[main_loop] currently #Deadlock round: 4 out of 91 rounds, ratio: 0.04395604395604396


[main_loop] currently #Deadlock round: 4 out of 92 rounds, ratio: 0.043478260869565216


[main_loop] currently #Deadlock round: 4 out of 78 rounds, ratio: 0.05128205128205128


[main_loop] currently #Deadlock round: 4 out of 93 rounds, ratio: 0.043010752688172046


[main_loop] currently #Deadlock round: 4 out of 94 rounds, ratio: 0.0425531914893617


[main_loop] currently #Deadlock round: 4 out of 79 rounds, ratio: 0.05063291139240506


[main_loop] currently #Deadlock round: 4 out of 80 rounds, ratio: 0.05


[main_loop] currently #Deadlock round: 4 out of 81 rounds, ratio: 0.04938271604938271


[main_loop] currently #Deadlock round: 4 out of 82 rounds, ratio: 0.04878048780487805


[main_loop] currently #Deadlock round: 4 out of 83 rounds, ratio: 0.04819277108433735


[main_loop] currently #Deadlock round: 4 out of 84 rounds, ratio: 0.047619047619047616


[main_loop] currently #Deadlock round: 4 out of 95 rounds, ratio: 0.042105263157894736


[main_loop] currently #Deadlock round: 4 out of 96 rounds, ratio: 0.041666666666666664


[main_loop] currently #Deadlock round: 4 out of 85 rounds, ratio: 0.047058823529411764


[main_loop] currently #Deadlock round: 4 out of 97 rounds, ratio: 0.041237113402061855


[main_loop] currently #Deadlock round: 4 out of 98 rounds, ratio: 0.04081632653061224


[main_loop] currently #Deadlock round: 4 out of 86 rounds, ratio: 0.046511627906976744


[main_loop] currently #Deadlock round: 4 out of 87 rounds, ratio: 0.04597701149425287


[main_loop] currently #Deadlock round: 4 out of 88 rounds, ratio: 0.045454545454545456


[main_loop] currently #Deadlock round: 4 out of 89 rounds, ratio: 0.0449438202247191


[main_loop] currently #Deadlock round: 4 out of 90 rounds, ratio: 0.044444444444444446


[main_loop] currently #Deadlock round: 4 out of 91 rounds, ratio: 0.04395604395604396


[main_loop] currently #Deadlock round: 4 out of 99 rounds, ratio: 0.04040404040404041


[main_loop] currently #Deadlock round: 4 out of 100 rounds, ratio: 0.04


[main_loop] 

~~~Process 31349 #Deadlock round: 4 out of 100 rounds, ratio: 0.04
[init_7_main_loop] Process 31349 model: StreamWithSync, gropuing_policy: Megatron gpu_num: 8, group_num: 8, coll_num: 80, disorder_prob: 0.1, sync_prob: 0.1, resource_limit: -1
[init_7_main_loop] tp_group_size: 2, dp_group_size: 2, pp_group_size: 2, coll_cnt_per_tp_group: 10, coll_cnt_per_dp_group: 10
[main_loop] currently #Deadlock round: 4 out of 92 rounds, ratio: 0.043478260869565216


[main_loop] currently #Deadlock round: 4 out of 93 rounds, ratio: 0.043010752688172046


[main_loop] currently #Deadlock round: 4 out of 94 rounds, ratio: 0.0425531914893617


[main_loop] currently #Deadlock round: 4 out of 95 rounds, ratio: 0.042105263157894736


[main_loop] currently #Deadlock round: 4 out of 96 rounds, ratio: 0.041666666666666664


[main_loop] currently #Deadlock round: 4 out of 97 rounds, ratio: 0.041237113402061855


[main_loop] currently #Deadlock round: 4 out of 98 rounds, ratio: 0.04081632653061224


[main_loop] currently #Deadlock round: 4 out of 99 rounds, ratio: 0.04040404040404041


[main_loop] currently #Deadlock round: 4 out of 100 rounds, ratio: 0.04


[main_loop] 

~~~Process 31350 #Deadlock round: 4 out of 100 rounds, ratio: 0.04
[init_7_main_loop] Process 31350 model: StreamWithSync, gropuing_policy: Megatron gpu_num: 8, group_num: 8, coll_num: 80, disorder_prob: 0.1, sync_prob: 0.1, resource_limit: -1
[init_7_main_loop] tp_group_size: 2, dp_group_size: 2, pp_group_size: 2, coll_cnt_per_tp_group: 10, coll_cnt_per_dp_group: 10
[<module>] 
================
Summary: #Deadlock round: 8 out of 200 rounds, ratio: 0.04
